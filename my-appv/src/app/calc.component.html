<html>
<body>
<div style="text-align:center">
    <h1>
        Welcome to the Mortgage Calculator!
    </h1>
    <div class="container">
        <div class="col-md-6">
            <h2>Input</h2>

            <form class="form-horizontal" #calcform ="ngForm">
                <!--{{diagnostic}}-->
            
                <div class="form-group">
                    <label class="control-label col-sm-4" for="homePrice">Total Home Price: </label>
                    <div class="col-sm-8">
                    <input type="number" min="0" class="form-control" id="homePrice"
                           [(ngModel)]="mortgageCalc.principal" name="homePrice" />
                </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-4" for="downPayment">Down Payment (%): </label>
                    <div class="col-sm-8">
                    <input type="number" min="5" max="95" class="form-control" id="downPayment"
                           [(ngModel)]="mortgageCalc.downpayment" name="downPayment" />
                </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-4" for="loanAmount">Loan Amount: </label>
                    <div class="col-sm-8">
                    <input type="number" value="{{mortgageCalc.principal - (mortgageCalc.principal * .01 * mortgageCalc.downpayment)}}" min="0" max="{{mortgageCalc.principal}}" class="form-control" id="loanAmount" required
                           [(ngModel)]="mortgageCalc.loanAmount" name="loanAmount" />
                </div>
            </div>
                <div class="form-group">
                    <label class="control-label col-sm-4" for="interestRate">Interest Rate (%): </label>
                    <div class="col-sm-8">
                    <input type="number" min="0" max="100" class="form-control" id="interestRate" required
                        [(ngModel)]="mortgageCalc.interest" name="interestRate" />
                    </div>
                    
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-4"for="loanTerm">Loan Term: </label>
                    <div class="col-sm-8">
                    <input type="number" min="0" class="form-control" id="loanTerm" required
                           [(ngModel)]="mortgageCalc.years" name="loanTerm" />
                </div>
            </div>

            </form>
        </div>
        <div class="col-md-6">
            <h2>Output</h2>
            
                <!--{{diagnostic}}-->
                <div class="w3-bar w3-black" style="padding-bottom: 10px;">
                        <button class="w3-bar-item w3-button" (click)="openCity('orig')">Original Input</button>
                        <button class="w3-bar-item w3-button" (click)="openCity('5more')">5% More Down</button>
                        <button class="w3-bar-item w3-button" (click)="openCity('5less')">5% Less Down</button>
                      </div>
                      
                      <div id="orig" class="w3-container city">
                        <form class="form-horizontal" #calcform ="ngForm">
                        <div class="form-group">
                                <label class="control-label col-sm-4" for="monthlyPayment">Monthly Payment: </label>
                                <div class="col-sm-8">
                                <input  class="form-control" id="monthlyPayment"
                                    value="{{monthlyPay}}" name="monthlyPayment" disabled/>
                                </div>
                        </div>

                        <div class="form-group">
                                <label class="control-label col-sm-4" for="totalInterest">Total Interest: </label>
                                <div class="col-sm-8">
                                <input  class="form-control" id="totalInterest"
                                    value="{{totalInterest}}" name="totalInterest" disabled/>
                                </div>
                        </div>
                                
                        <div class="form-group">
                            <label class="control-label col-sm-4" for="totalCost">Total Cost: </label>
                            <div class="col-sm-8">
                            <input  class="form-control" id="totalCost" required
                                value="{{totalCost}}" name="totalCost" disabled/> 
                            </div> 
                        </div>
                        </form>

                      </div>
                      
                      <div id="5more" class="w3-container city" style="display:none">

                            <form class="form-horizontal" #calcform ="ngForm">
                                    <div class="form-group">
                                            <label class="control-label col-sm-4" for="monthlyPayment">Monthly Payment: </label>
                                            <div class="col-sm-8">
                                            <input  class="form-control" id="monthlyPayment"
                                                value="{{monthlyPay5More}}" name="monthlyPayment" disabled/>
                                            </div>
                                    </div>
            
                                    <div class="form-group">
                                            <label class="control-label col-sm-4" for="totalInterest">Total Interest: </label>
                                            <div class="col-sm-8">
                                            <input  class="form-control" id="totalInterest"
                                                value="{{totalInterest5More}}" name="totalInterest" disabled/>
                                            </div>
                                    </div>
                                            
                                    <div class="form-group">
                                        <label class="control-label col-sm-4" for="totalCost">Total Cost: </label>
                                        <div class="col-sm-8">
                                        <input  class="form-control" id="totalCost" required
                                            value="{{totalCost5More}}" name="totalCost" disabled/> 
                                        </div> 
                                    </div>
                                    </form>
            
                      </div>
                      
                      <div id="5less" class="w3-container city" style="display:none">
                        <form class="form-horizontal" #calcform ="ngForm">
                                <div class="form-group">
                                        <label class="control-label col-sm-4" for="monthlyPayment">Monthly Payment: </label>
                                        <div class="col-sm-8">
                                        <input  class="form-control" id="monthlyPayment"
                                            value="{{monthlyPay5Less}}" name="monthlyPayment" disabled/>
                                        </div>
                                </div>
        
                                <div class="form-group">
                                        <label class="control-label col-sm-4" for="totalInterest">Total Interest: </label>
                                        <div class="col-sm-8">
                                        <input  class="form-control" id="totalInterest"
                                            value="{{totalInterest5Less}}" name="totalInterest" disabled/>
                                        </div>
                                </div>
                                        
                                <div class="form-group">
                                    <label class="control-label col-sm-4" for="totalCost">Total Cost: </label>
                                    <div class="col-sm-8">
                                    <input  class="form-control" id="totalCost" required
                                        value="{{totalCost5Less}}" name="totalCost" disabled/> 
                                    </div> 
                                </div>
                                </form>
        
                      </div>
                     
                <!-- <div class="form-group">
                    <label class="control-label col-sm-4" for="monthlyPayment">Monthly Payment: </label>
                    <div class="col-sm-8">
                    <input  class="form-control" id="monthlyPayment"
                        value="{{monthlyPay}}" name="monthlyPayment" disabled/>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="control-label col-sm-4" for="totalInterest">Total Interest: </label>
                    <div class="col-sm-8">
                    <input  class="form-control" id="totalInterest"
                        value="{{totalInterest}}" name="totalInterest" disabled/>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="control-label col-sm-4" for="totalCost">Total Cost: </label>
                    <div class="col-sm-8">
                    <input  class="form-control" id="totalCost" required
                        value="{{totalCost}}" name="totalCost" disabled/>
                    </div>
                    
                </div>
                 -->

                <button type="submit" class="btn btn-primary" [disabled]="!calcform.form.valid" (click)="diagnostic()" >Calculate</button>&nbsp;&nbsp;

               <!-- <button type="button" class="btn btn-primary"  (click) ="calculateAmortization()" >Amortize</button>&nbsp;&nbsp; -->

                <button class="btn btn-primary"(click)="downloadCSV()">Download Report</button>&nbsp;&nbsp;

                <div style="padding-top: 15px;"></div>
                <app-form-upload></app-form-upload>
                

            <!-- </form> -->

        </div>
    </div>

    <div class="container" style="padding-top: 30px; padding-left: 140px" align="center" id="time-series">
            <h4>
                Principal and Interest by Term(Months)
                <span>
                        <a class="reset"
                          href="javascript:void(0)"
                          (click)="filterAll()"
                          style="display: none; padding-left: 50px;">
                          <span class="glyphicon glyphicon-refresh"></span>
                          reset
                        </a>
                </span>
            </h4>
    </div>

    <div class="container" style="padding-bottom: 30px;" id="table1">
        <div class="col-md-12">
            <table id='table'>
                    <thead>
                      <tr>
                        <th>Month</th>
                        <th>Payment</th>
                        <th>Principal</th>
                        <th>Interest</th>
                        <th>Balance</th>
                      </tr>
                    </thead>
            </table>
        </div>
    </div>
</div>

</body>
</html>
